#!/bin/bash

UNAME=$(uname)

successInstall() {
    corgit="\e[1mcorgit\e[0m"
    cgit="\e[1mcgit h\e[0m"

    echo -e "$corgit was installed successfully ðŸ¤©, type $cgit"
}

checkBash() {
    if [ -f "~/.bash_profile" ]; then
        echo "alias cgit=\"bash corgit"\" >>~/.bash_profile
        source ~/.bash_profile

    else
        echo "alias cgit=\"bash corgit"\" >>~/.bashrc
        source ~/.bashrc

    fi
}

if [[ "$UNAME" == Linux || "$UNAME" == "Darwin" ]]; then
    sudo cp corgit /usr/local/bin

    echo -e "we'll add shortcut to your shell, what shell do you use\n[bash/zsh] if you don't choose anyone, it's well added to .profile"
    read shl

    if [ "$shl" == "bash" ]; then
        checkBash

    elif [ "$shl" == "zsh" ]; then
        echo "alias cgit=\"bash corgit"\" >>~/.zshrc
        source ~/.zshrc

    else
        echo "alias cgit=\"bash corgit"\" >>~/.profile
        source ~/.profile
    fi

    echo "$shl" >>ans.yml

    successInstall

elif [[ "$UNAME" == CYGWIN* || "$UNAME" == MINGW* ]]; then
    cp corgit /usr/bin

    echo "alias cgit=\"bash corgit"\" >>~/.bash_profile
    source ~/.bash_profile

    successInstall

else
    abdfnx="\e[1mabdfnx\e[0m"
    echo "ðŸ˜•, Unidentified system..."
    echo -e "support $abdfnx to add corgit to this system"
fi
